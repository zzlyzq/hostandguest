# hostandguest
有几台宿主机，我们需要一批虚拟机，应该如何分配，能照顾到机器够用还能够防止单点

![mark](http://ojv12llai.bkt.clouddn.com/uploads/20170413203008.png)

# step2

* 有了hostandguest， 我们可以拿到在哪个宿主机里面运行哪些虚拟机，并且虚拟机的尺寸，名字是多少也都有了信息
* 我们可以运行 create.sh来在每一台宿主机里面创建我们所需要的虚拟机
* 别忘了，创建虚拟机的时候，需要远程http的支持，包括ovf和img文件

# step3

* 虚拟机已经建立好了，但是ip地址还没有分配，要一个个自己弄么？
* 当然不， 我们可以运行step3/dhcp.sh，会在当前宿主机里面查看所有机器的mac地址，加上名字里面包括了ip地址信息，所以我们可以生成dnsmasq的配置文件
* 当前宿主机必须已经建立完虚拟机
* 建立好的虚拟机经历过开机，因为只有这样，mac地址才会分配完成，可以先开机，然后关机
